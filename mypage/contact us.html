<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Navbar Example</title>
    <!-- Bootstrap CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Cabin:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Open+Sans:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="../css/contact.css">
</head>


<body>
    <nav class="navbar navbar-expand-lg bg-white shadow-sm p-4">
        <div class="container-fluid px-5">
            <!-- Left Logo -->
            <a class="navbar-brand fw-bold" href="#">
                <img src="../img/logo.png" alt="">
            </a>

            <!-- Toggler button (ye missing tha) -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Center Nav links -->
            <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="aboutus.html">About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="ourservices.html">Services</a></li>
                    <li class="nav-item"><a class="nav-link" href="our-work.html">Work</a></li>
                    <li class="nav-item"><a class="nav-link" href="our research.html">Research</a></li>
                    <li class="nav-item"><a class="nav-link" href="our testimonials.html">Testimonials</a></li>
                    <li class="nav-item"><a class="nav-link" href="Blog Entries.html">Blog</a></li>
                </ul>
            </div>

            <!-- Right button -->
            <a href="#" class="btn btn-contact">Contact Us</a>
        </div>
    </nav>

    <div style="background-color: #DAE4E6;">
        <div class="section-bg">
            <div class="container text-center py-3">
                <div class="container text-center py-5 section-heading-img">
                    <h3 class="section-heading-h3">
                        Blog Entries
                    </h3>
                </div>
            </div>
        </div>
    </div>


    <div class="container text-center mt-5 ">
        <h3 class="getInTouch">
            Get in touch With Us!
        </h3>
        <p class="getInTouchp">Connect with Us! Ready to learn more? Getting in touch is easy. Use
            the form below and request a
            consultation.</p>

        <div class="container mt-5">
            <form id="contact-form">
                <div class="row">
                    <!-- Name -->
                    <div class="col-lg-4 col-md-6 col-sm-12 mb-3">
                        <div class="mb-3 position-relative">
                            <input type="text" class="form-control" id="name" name="user_name" placeholder="Full Name"
                                required>
                            <span class="red-star-name">*</span>
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="col-lg-4 col-md-6 col-sm-12 mb-3">
                        <div class="mb-3 position-relative">
                            <input type="email" class="form-control" id="email" name="user_email" placeholder="Email"
                                required>
                            <span class="red-star-email">*</span>
                        </div>
                    </div>

                    <!-- Phone -->
                    <div class="col-lg-4 col-md-6 col-sm-12 mb-3">
                        <form>
                            <div class="mb-3 position-relative">
                                <input type="tel" class="form-control" id="phone" name="user_phone"
                                    placeholder="Phone Number" inputmode="numeric" required>
                                <span class="red-star-phone">*</span>
                                <script>
                                    const phoneInput = document.getElementById("phone");
                                    phoneInput.addEventListener("input", function () {
                                        this.value = this.value.replace(/[^0-9]/g, "");
                                    });
                                </script>
                            </div>
                        </form>
                    </div>

                    <!-- Service -->
                    <div class="mb-3 position-relative">
                        <select class="form-select pe-5" id="service" name="service" required>
                            <option value="" selected disabled>What kind of service do you want?</option>
                            <option value="Web Development">Web Development</option>
                            <option value="App Development">App Development</option>
                            <option value="UI/UX Design">UI/UX Design</option>
                            <option value="SEO Optimization">SEO Optimization</option>
                        </select>

                        <!-- Red Star -->
                        <span class="service">*</span>

                        <!-- Extra Text near dropdown icon -->
                        <span class="text-secondary service-span">
                            -- Choose from below --
                        </span>
                    </div>


                    <!-- Message -->
                    <div class="col-lg-12 mb-3 mt-3">
                        <div class="mb-3 position-relative">
                            <textarea required class="form-control pt-3" name="message" id="message" rows="8"
                                placeholder=" "></textarea>
                            <span class="massgae-text text-start"> Message <br>
                                <span style="color: #808080;"> Lorem Ipsum is simply dummy text of the printing and
                                    typesetting industry.</span>
                            </span>
                        </div>
                    </div>

                    <!-- Submit -->
                    <div class="col-lg-12">
                        <button type="submit" class="btn" style="background-color: #D47B34; color: #fff;">
                            Submit <img src="../img/arrow.png" alt="">
                        </button>
                    </div>
                </div>
            </form>

        </div>


    </div>


    <div style="background-color: #DAE4E6;" class="mt-5">
        <div class="section-bg">
            <div class="container text-center py-5">
                <div class="container text-center py-5 contact-img">

                    <h3 class="fs-2 contact-heading">
                        Connect With Us!
                    </h3>

                    <p class="mx-auto contact-heading-p">
                        Ready to learn more? Getting in touch is easy. Use the form and request a consultation.
                    </p>

                    <a href="#"> <button class="btn btn-lg contact-heading-a">
                            Contact Us<img class="ms-2" src="../img/arrow.png" alt="">
                        </button></a>
                </div>
            </div>
        </div>
    </div>

    <div style="background-color: #527F8A;">
        <div class="section-bg">
            <div class="container text-center ">
                <div class="container text-center py-4">
                    <h3 class="fw-bold mt-5 newsletter-title">
                        Subscribe Our Newsletter
                    </h3>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer Section -->
    <footer class="footer">
        <!-- Newsletter box overlay -->

        <div class="newsletter-box">
            <input type="email" placeholder="Enter Your Email Address...">

            <button>Subscribe Now <img class="ms-2" src="../img/arrow.png" alt=""></button>
        </div>
        <div class="container">
            <div class="row ">
                <div class="col-lg-3 mb-4">
                    <img src="../img/div-two.png" style="width: 217px; height: 30px;" alt="">
                    <p class="mt-4" style="font-family: 'Cabin', sans-serif; color:#A7AEB4;">Lorem Ipsum is simply dummy
                        text of the printing and typesetting industry. Lorem Ipsum has been
                        the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley
                        of type and scrambled it to make a type specimen book.</p>
                    <div style="font-family: 'Raleway', sans-serif;">
                        &copy;
                        Copyright 2023 - <span class="fw-bold" style="color: #D47B34;">XMscience</span> - All Rights
                        Reserved.
                    </div>
                </div>

                <div class="col-lg-3 mb-4">
                    <h5>Company</h5>
                    <ul class="list-unstyled footer-links mt-4" style="font-family: 'Cabin', sans-serif;">
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="aboutus.html">About Us</a></li>
                        <li><a href="ourservices.html">Services</a></li>
                        <li><a href="our-work.html">Work</a></li>
                        <li><a href="our research.html">Research</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 mb-4 ">
                    <h5>Others</h5>
                    <ul class="list-unstyled footer-links mt-4" style="font-family: 'Cabin', sans-serif;">
                        <li><a href="our testimonials.html">Testimonials</a></li>
                        <li><a href="Blog Entries.html">Blog</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Use</a></li>
                        <li><a href="#">Contact Us</a></li>
                    </ul>
                </div>
                <div class="col-lg-3">
                    <h5>Get In Touch</h5>
                    <div style="font-family: 'Cabin', sans-serif;">
                        <p style="color: #D47B34;">123-456-7890 </p>
                        <p>example@email.com</p>
                        <p>Lorem Ipsum is simply dummy text</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- EmailJS SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
        (function () {
            emailjs.init("TjqXFhv0l-FcXGVIf"); // your public key
        })();

        const form = document.getElementById("contact-form");

        // create a place to show success messages (inserted dynamically)
        const successDiv = document.createElement('div');
        successDiv.id = 'form-success';
        successDiv.style.display = 'none';
        successDiv.style.margin = '20px auto';
        successDiv.style.maxWidth = '700px';
        successDiv.className = 'p-3 rounded';
        // basic styling (you can tweak)
        successDiv.style.backgroundColor = '#e6f9ee';
        successDiv.style.color = '#0b4d2f';
        form.parentNode.insertBefore(successDiv, form.nextSibling);

        form.addEventListener("submit", function (e) {
            e.preventDefault();

            // Get values
            const userName = document.getElementById("name").value.trim();
            const userEmail = document.getElementById("email").value.trim();
            const userPhone = document.getElementById("phone").value.trim();
            const service = document.getElementById("service").value;
            const message = document.getElementById("message").value.trim();

            // Basic email validation
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailPattern.test(userEmail)) {
                alert("Please enter a valid email address.");
                return;
            }

            // Optional: confirm email with user before sending (uncomment if wanted)
            // if(!confirm(`We will send confirmation to: ${userEmail}\nIs this correct?`)) return;

            // First: send to Admin using sendForm (this sends entire form)
            emailjs.sendForm("service_ynw3saf", "template_l6wwl8n", this)
                .then(function (response) {
                    console.log("✅ Admin Email Sent!", response.status, response.text);

                    // Now send confirmation to the user.
                    // IMPORTANT: your user_template's "To" must be set to {{to_email}} in EmailJS dashboard
                    emailjs.send("service_ynw3saf", "template_hctg40v", {
                        to_email: userEmail,            // <-- Tell EmailJS which recipient to use
                        user_name: userName,
                        user_email: userEmail,          // include in body so user sees it in email
                        user_phone: userPhone,
                        service: service,
                        message: message
                    }).then(function (resp) {
                        console.log("✅ User confirmation sent!", resp.status, resp.text);

                        // Show a friendly success message on the page and echo the email used
                        // Show a friendly success message on the page and echo the email used
                        successDiv.innerHTML = `
  <strong>Thank you, ${escapeHtml(userName) || 'User'}!</strong>
  <p>We've sent a confirmation email to <strong>${escapeHtml(userEmail)}</strong>. 
  Please check your inbox (and spam folder).</p>
  <p>If you don't receive it in a few minutes, double-check the email address and try again.</p>
`;
                        successDiv.style.display = 'block';

                        // Hide after 5 seconds (5000ms)
                        setTimeout(() => {
                            successDiv.style.display = 'none';
                        }, 5000);

                        form.reset();

                    }, function (err) {
                        console.error("❌ FAILED sending user email...", err);
                        alert("Form submitted but we couldn't send confirmation email. Admin received the message though.");
                    });

                }, function (error) {
                    console.error("❌ FAILED sending admin email...", error);
                    alert("Form could not be submitted. Try again later.");
                });

        });

        // small helper to avoid xss if any value echoes into the page
        function escapeHtml(unsafe) {
            if (!unsafe) return '';
            return unsafe.replace(/[&<>"'`=\/]/g, function (s) {
                return ({
                    '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;',
                    "'": '&#39;', '/': '&#x2F;', '`': '&#x60;', '=': '&#x3D;'
                })[s];
            });
        }
    </script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>